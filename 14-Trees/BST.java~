public class BST {

    private Node root;
    
    public BST() {
	root = new Node();
    }

    public BST(Node n) {
	root = n;
    }
    
    public Node search(Node T, Integer i) {
	while (T != null) {
	    int c = T.getData().compareTo(i);
	    if (c > 0) {
		T = T.getRight();
	    } else if (c < 0) {
		T = T.getLeft();
	    } else {
		return T;
	    }
	}
	return null;
    }

    public void insert(Node t, Integer i) {
	//Insert as a new leaf
	    //Create new node n
	    //Search for the value of n but use a piggyback pointer
	    //When lead pointer (T) gets to null, piggyback (T2) will be at the
         	//node before the insertion point
	//Insert new node to the left or right of T2 as appropriate

        Node newLeaf = new Node(i);
        if (t == null)
            t = newLeaf;
        Node cur = t;
        Node piggy = null;
        while (cur != null){
            piggy = cur;
            int c = root.getData().compareTo(i);
            if (c < 0){
                cur = cur.getLeft();
            } else if (c > 0){
                cur = cur.getRight();
            }
        }
        if (i > piggy.getData())
            piggy.setRight(newLeaf);
        else if (i < piggy.getData())
            piggy.setLeft(newLeaf);
    }

    public String toString(Node root) {
	String result = "";
	if (root == null)
	    return "";
	result += toString(root.getLeft());
	result += toString(root.getRight());
	result += root.getData().toString();
	return result;
    }

    public static void main(String[] args) {
	Node n = new Node(17);
	BST b = new BST(n);
	System.out.println(b.toString(n));
	b.insert(n,22);
	b.insert(n,15);
	System.out.println(b.toString(n));
	b.insert(n,9);
	b.insert(n,27);
    }
    
}
